---
layout: interview
title:  "Senior software engineer"
date:   2016-03-03 09:00:00
categories: engineer php java
---

高级软件工程师
---

下面的面试题不分语言，适用于所有编程语言，更多偏向设计。

设计一个分类功能
---
该功用于行政区域划分，商品分类，等等
例如中国->广东-深圳 .....

要求：

1. 无限极分类，层次深度不限
1. 快速检索，不能使用递归
1. 只能使用一个数据库表实现
1. 可以生成树形目录

* * *

商品以及属性功能的设计
---
一个商品有很多属性，例如尺寸，颜色这些属性有固定的值，而另一些属性如重量，体积是需要填写具体数值的，并且还有对应的单位。

要求：

1. 商品分类（上一个问题中已经实现）
1. 商品属性，有多个属性，且数目不确定，所以需要设计成可以无限添加
1. 商品属性即可下拉选择，也可以填写具体数值


问题:

1. 商品搜索怎么解决，包含商品名称，属性，属性值，描述的搜索
1. 商品的库存怎么设计
1. 分类搜索，怎样列出所有子分类以及子分类下的所有分类（无限深度）

- - -

用户注册的功能需求
---
场景模拟：
用户开户注册时常常填写了一部分资料，就离开了，有几种情况

1. 用户放弃注册
1. 网络连接失败
1. 提交出错
1. 其他链接吸引了用户点击

等等原因......

需求：

1. 要求记录用户填写资料，再次回来（数日/数月后）点击注册的时候，用户不用重新填写所有资料，只需完成未完成的部分即可。
1. 重要资料例如手机，电邮，即时通讯号码等等需要记录到数据库，已被公司回访客户。
1. 在用户成功注册后应该删除之前保留在数据库中的手机，电邮，即时通讯等等。

请问如何实现？资料怎样保存？

- - -

事务处理相关
---
简述什么是事务处理？

在不能使用数据库的事务处理以及锁（表锁/行级锁）时，怎么保持数据一致性？怎么解决数据库并发操作？

1. 怎样解决避免多个用户读读取同一条数据记录？
1. 怎样避免多个用户更新同一条数据

### 模拟题一
例如有一个电商网站每个小时有100个用户下单，公司需要有10个客服处理用户的订单。

问题：
1. 当10位员工进入admin后台，查看订单会出现什么问题？
1. 怎样防止一个订单被一个以上的人看到？
1. 如果两个员工同事看到同一个个订单，怎样避免员工，重复审批同一张订单？
1. 如果订单X最先被员工A点开，这是员工A去忙其他事情，X定点就会一直挂起，怎样将订单重新分配？

- - -

开发框架
---

1. 简述 MVC 原理以及实现
1. 怎样实现 URL 路由
1. 怎样实现类，方法访问权限控制


请问下面代码怎么实现？

用你最熟悉的语言实现。

{% highlight java %}

DB db = new DB()
db.select(new field("name","age"...)).from("user").where(new And("xxx=xx", "xxx=xxx")).limit(10).offset(10).orderby("id",DESC)

{% endhighlight %}

- - -

进程与多线程
---
1. 什么是阻塞，什么是非阻塞？
1. 什么是同步，什么是异步？
1. 什么情况下使用线程锁？
1. 进程与线程的区别?
1. 进程间通信有那几种，线程通信有那几种，以及各自的优势？

- - -

消息队列
---

消息有哪些瓶颈？

- - -

序列化
---

1. 什么是序列化
1. 常用序列化方式都有哪些

- - -

CDN应用
---

1. CDN 缓存的原理？
1. CDN 都可能缓存那些内容？
1. 网站首页90%的内容是静态的，但是用户登录状态，消息状态是动态的怎么解决？
1. JSON 可能缓存吗？
1. 浏览器缓存与CDN缓存的关系，怎样实现用户浏览器与CDN同时缓存？

- - - 

## 面向对象试题?

编写一个求和程序

```
s = new Sum();
s.add(10).add(5).add(6)
						
s.add(10).add(5).add(6)......add(3) 可以无限的写下去

obj = new Object()
obj.a()
obj.b()
obj.c()
...
...
obj.z()

obj.a().b().c() ... z()
						
```

与上面类似

这是 一个简单的 OOP 面试题，在做多年的面试经验中，发现很多人不知道怎样实现上面的问题

- - -

# Restfull 试题

Restfull 是基于HTTP协议的RPC系统，对于公共服务不存在安全上面的考虑，调用方法也多是ajax，所以公共系统是开放的。

如果是私有服务，就需要考虑安全问题了，试题如下：

### CQRS 问题

1. 什么是 CQRS
1. 可以在那些地方处理 CQRS

### 请为 Restful 增加 HTTP Auth 

1. 怎样为 Restful 增加 HTTP 认证
1. 增加 http 认证有哪些方式
1. 用户与密码安全吗？

### 使用 SSL 加密 Restful 

1. 购买的证书与自己生成的证书有什么区别
1. SSL 怎样配置，在哪里配置
1. 访问 SSL 的 Restful 需要注意什么

# 数据同步
背景有两个数据库，现在需要将A库的数据库同步到B库中。

需要考虑的几点：

1. 首次如何同步
1. 计划任务怎样跑
1. 如果计划任务中断怎么办
1. 如何实现断点续传
1. A库中的数据随机修改怎么处理
